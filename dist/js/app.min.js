(()=>{"use strict";const e=e=>{function t(e){let t="8 (___) ___ __ __",n=0,o=t.replace(/\D/g,""),s=this.value.replace(/\D/g,"");o.length>=s.length&&(s=o),this.value=t.replace(/./g,(function(e){return/[_\d]/.test(e)&&n<s.length?s.charAt(n++):n>=s.length?"":e})),"blur"===e.type?2==this.value.length&&(this.value=""):((e,t)=>{if(t.focus(),t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){let n=t.createTextRange();n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select()}})(this.value.length,this)}document.querySelectorAll(e).forEach((e=>{e.addEventListener("input",t),e.addEventListener("focus",t),e.addEventListener("blur",t)}))},t=()=>{!function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}()};window.addEventListener("DOMContentLoaded",(()=>{t(),(()=>{const e={Android:function(){return navigator.userAgent.match(/Android/i)},Blackberry:function(){return navigator.userAgent.match(/Blackberry/i)},iOS:function(){return navigator.userAgent.match(/iOS|Ipad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return e.Android()||e.Blackberry()||e.iOS()||e.Opera()||e.Windows()}};if(e.any()){document.body.classList.add("_touch");let e=document.querySelectorAll(".menu__arrow");if(e.length>0)for(let t=0;t<e.length;t++){const n=e[t];n.addEventListener("click",(()=>{n.parentElement.classList.toggle("_active")}))}}else document.body.classList.add("_pc");const t=document.querySelector(".menu__icon"),n=document.querySelector(".menu__body");t&&t.addEventListener("click",(()=>{document.body.classList.toggle("_lock"),t.classList.toggle("_active"),n.classList.toggle("_active")}));const o=document.querySelectorAll(".menu__link[data-goto]");function s(e){const o=e.target;if(o.dataset.goto&&document.querySelector(o.dataset.goto)){const s=document.querySelector(o.dataset.goto).getBoundingClientRect().top+pageYOffset-document.querySelector("header").offsetHeight;t.classList.contains("_active")&&(document.body.classList.remove("_lock"),t.classList.remove("_active"),n.classList.remove("_active")),window.scrollTo({top:s,behavior:"smooth"}),e.preventDefault()}}o.length>0&&o.forEach((e=>{e.addEventListener("click",s)})),window.addEventListener("scroll",(function(){const e=document.querySelector("header");window.scrollY>=1?e.classList.add("fixed__nav"):e.classList.remove("fixed__nav")}))})(),((e,t,n,o)=>{let s=1;const l=document.querySelectorAll(e);function a(e){e>l.length&&(s=1),e<1&&(s=l.length),l.forEach((e=>{e.classList.add("animated"),e.style.display="none"})),l[s-1].style.display="block"}function c(e){a(s+=e)}a(s);try{const e=document.querySelector(n),t=document.querySelector(o);e.addEventListener("click",(()=>{c(-1),l[s-1].classList.remove("fadeIn"),l[s-1].classList.add("fadeIn")})),t.addEventListener("click",(()=>{c(1),l[s-1].classList.remove("fadeIn"),l[s-1].classList.add("fadeIn")}))}catch(e){}l[0].parentNode.addEventListener("mouseenter",(()=>{clearInterval(!1)})),l[0].parentNode.addEventListener("mouseleave",(()=>{}))})(".slider__item",0,".prev-button",".next-button"),(()=>{function e(e,t,n){const o=document.querySelectorAll(e),s=document.querySelector(t),l=document.querySelector(n),a=document.querySelectorAll("[data-modal]");scroll=function(){let e=document.createElement("div");e.style.width="50px",e.style.height="50px",e.style.overflowY="scroll",e.style.visibility="hidden",document.body.appendChild(e);let t=e.offsetWidth-e.clientWidth;return e.remove(),t}(),o.forEach((e=>{e.addEventListener("click",(e=>{e.target&&e.preventDefault(),a.forEach((e=>{e.style.display="none",e.classList.add("animated","fadeIn")})),s.style.display="block",document.body.style.overflow="hidden",document.body.style.marginRight=`${scroll}px`}))})),l.addEventListener("click",(()=>{a.forEach((e=>{e.style.display="none"})),s.style.display="none",document.body.style.overflow="",document.body.style.marginRight="0px"})),s.addEventListener("click",(e=>{e.target===s&&(a.forEach((e=>{e.style.display="none"})),s.style.display="none",document.body.style.overflow="",document.body.style.marginRight="0px")}))}e(".btn_consultation",".modals__consultation",".modals__consultation .modals__close"),e(".btn-services_letters",".modals__letters",".modals__letters .modals__close"),e(".btn-services_box",".modals__box",".modals__box .modals__close"),e(".btn-services_console",".modals__console",".modals__console .modals__close"),e(".btn-services_roof",".modals__roof",".modals__roof .modals__close"),e(".btn-services_steels",".modals__steels",".modals__steels .modals__close"),e(".btn-services_information",".modals__information",".modals__information .modals__close")})(),(()=>{const e=document.querySelectorAll("form"),t=document.querySelectorAll("input");e.forEach((e=>{e.addEventListener("submit",(n=>{n.preventDefault();let o=document.createElement("div");o.classList.add("status"),e.parentNode.appendChild(o),e.classList.add("animated","fadeOutUp"),setTimeout((()=>{e.style.display="none"}),400);let s=document.createElement("img");s.setAttribute("src","img/icons/spinner.gif"),s.classList.add("animated","fadeInUp"),o.appendChild(s);let l=document.createElement("div");l.textContent="Загрузка...",o.appendChild(l),(async(e,t)=>{let n=await fetch("telegram.php",{method:"POST",body:t});return await n.text()})(0,new FormData(e)).then((e=>{s.setAttribute("src","img/icons/ok.svg"),l.style.marginTop="30px",l.textContent="Спасибо! Скоро мы с вами свяжемся"})).catch((()=>{s.setAttribute("src","img/icons/fail.png"),l.textContent="Что-то пошло не так..."})).finally((()=>{t.forEach((e=>{e.value=""})),setTimeout((()=>{o.remove(),e.style.display="block",e.classList.remove("fadeOutUp"),e.classList.add("fadeInUp")}),5e5)}))}))}))})(),e('[name="user_phone"]'),document.querySelector(".pulse-button").addEventListener("click",(()=>{open("https://wa.me/77057759919")})),document.querySelectorAll(".btn_whatsaspp").forEach((e=>{e.addEventListener("click",(()=>{open("https://wa.me/77057759919")}))}))}))})();